<!DOCTYPE html>
<html>
  <head>
    <meta name="creator" content="mantohtml v2022.1005">
    <title>Documentation</title>
  </head>
  <body>
    <h1 id="ippserver-8">ippserver(8)</h1>
    <h2 id="ippserver-8.name">Name</h2>
<p>ippserver - a sample ipp server implementation
</p>
    <h2 id="ippserver-8.synopsis">Synopsis</h2>
<p><strong>ippserver</strong>
[
<strong>-2</strong>
] [
<strong>-C</strong>
<em>config-directory</em>
] [
<strong>-D</strong>
<em>device-uri</em>
] [
<strong>-F</strong>
<em>output-type/subtype</em>
] [
<strong>-K</strong>
<em>keypath</em>
] [
<strong>-M</strong>
<em>manufacturer</em>
] [
<strong>-P</strong>
] [
<strong>-a</strong>
<em>attributes-file</em>
] [
<strong>-c</strong>
<em>command</em>
] [
<strong>-d</strong>
<em>spool-directory</em>
] [
<strong>-f</strong>
<em>type/subtype[,...]</em>
] [
<strong>-h</strong>
] [
<strong>-i</strong>
<em>iconfile.png</em>
] [
<strong>-k</strong>
] [
<strong>-l</strong>
<em>location</em>
] [
<strong>-m</strong>
<em>model</em>
] [
<strong>-n</strong>
<em>hostname</em>
] [
<strong>-p</strong>
<em>port</em>
] [
<strong>-r</strong>
<em>subtype[,...,subtype]</em>
] [
<strong>-s</strong>
<em>speed[,color-speed]</em>
] [
<strong>-v[vvv]</strong>
] [
-B --help
] [
<strong>--no-dns-sd</strong>
] [
<strong>--no-web-forms</strong>
] [
-B --relaxed
] [
-B --state
<em>directory</em>
] [
-B --version
]
<em>"service name"</em>
</p>
    <h2 id="ippserver-8.description">Description</h2>
<p><strong>ippserver</strong>
is a sample Internet Printing Protocol (IPP) server conforming to the IPP Everywhere, IPP Shared Infrastructure Extensions (INFRA), and IPP System Service specifications. It can be used as a standalone print server and/or a very basic infrastructure server between standard IPP clients and IPP proxies conforming to the INFRA specification.
</p>
    <h2 id="ippserver-8.options">Options</h2>
<p>The following options are recognized by
<strong>ippserver:</strong>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-2</strong><br>
Specifies that the printer supports two-sided printing.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-C </strong><em>config-directory</em><br>
Specifies the location of a directory containing files that define the configuration of the server and the service instances that are available.
See the section titled "CONFIGURATION DIRECTORIES" below.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-D </strong><em>device-uri</em><br>
Set the device URI for print output.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-F </strong><em>output-type/subtype[,...]</em><br>
Specifies the output MIME media type.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-K </strong><em>keypath</em><br>
Specifies the location of TLS certificates and private keys.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-M </strong><em>manufacturer</em><br>
Specifies the manufacturer for the printer.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-P</strong><br>
Specifies that the printer will require a PIN ("job-password") for submitted print jobs.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-a </strong><em>attributes-file</em><br>
Specifies a file containing attribute definitions for the printer.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-c </strong><em>command</em><br>
Specifies a command that is used to process job files.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-d </strong><em>spool-directory</em><br>
Specifies the directory that will hold the print files.
The default is a directory under the user's current temporary directory.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-f </strong><em>type/subtype,[...]</em><br>
Specifies the list of supported MIME media types.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-h</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>--help</strong><br>
Shows program help.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-i </strong><em>iconfile.png</em><br>
Specifies a PNG file for the printer icon.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-k</strong><br>
Keeps the print documents in the spool directory rather than deleting them.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-l </strong><em>location</em><br>
Specifies the "printer-location" string for the printer.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-m </strong><em>model</em><br>
Specifies the model name of the printer.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-n </strong><em>hostname</em><br>
Specifies the hostname that is reported by the server.
The default is the name returned by the
<strong>hostname</strong>(1)

command.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;">-B --no-dns-sd<br>
Disables DNS-SD registrations.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;">-B --no-web-forms<br>
Disables the GET-based web forms that allow web requests to change material, media, and supply levels.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-p </strong><em>port</em><br>
Specifies the port number to listen on.
The default is a user-specific number from 8000 to 8999.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-r </strong><em>subtype[,...,subtype]</em><br>
Specifies one or more comma-delimited DNS-SD subtypes to advertise for the printer.
The default subtype is "_print".
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>--relaxed</strong><br>
Runs the server in relaxed conformance mode, which allows certain harmless IPP conformance issues to be ignored.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-s </strong><em>speed[,color-speed]</em><br>
Specifies the printer speed in pages-per-minute.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>--state </strong><em>directory</em><br>
Specifies a persistent state directory to use.
The directory is created if it does not exist.
The default is to not save state information between runs.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>-v[vvv]</strong><br>
Be (very) verbose when logging activity to the standard output.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>--version</strong><br>
Show the software version number.
</p>
    <h2 id="ippserver-8.exit-status">Exit Status</h2>
<p>The
<strong>ippserver</strong>
program returns 1 if it is unable to process the command-line arguments.
Otherwise
<strong>ippserver</strong>
will run continuously until terminated.
</p>
    <h2 id="ippserver-8.examples">Examples</h2>
<p>Run
<strong>ippserver</strong>
with a service name of My Cool Printer:
</p>
    <pre>
    ippserver "My Cool Printer"
</pre>
    <p>Specify a proxy username of "foo" and password of "bar":
</p>
    <pre>
    ippserver -u foo:bar "My Cool Printer"
</pre>
    <h2 id="ippserver-8.configuration-directories">Configuration Directories</h2>
<p>When the <strong>-C</strong> option is specified, <strong>ippserver</strong> reads a series of configuration files from the specified directory to configure the server and services supported by the server.
</p>
    <h3 id="ippserver-8.configuration-directories.system.conf-configuration-file">System.Conf Configuration File</h3>
<p>The <em>system.conf</em> configuration file specifies settings that apply to all services.
Each line consists of a directive followed by its value(s).
Comments start with the # character and continue to the end of the line.
The following directives are supported:
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>Authentication </strong><em>{On|Off|Yes|No}</em><br>
Specifies whether authentication is required for requests other than Get-Printer-Attributes.
The default is "No".
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>AuthAdminGroup </strong><em>group</em><br>
Specifies the group of print administrators.
The default administrator group is "wheel".
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>AuthGroups </strong><em>group [... group]</em><br>
Specifies a list of groups that can be configured via IPP.
If not specified, the default for non-root users is the list of groups the user belongs to.
Otherwise, the default is the list of valid groups from "adm", "admin", "daemon", "operator", "staff", and/or "wheel".
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>AuthName </strong><em>realm</em><br>
Specifies the authentication realm name.
The default realm name is "Printing".
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>AuthOperatorGroup </strong><em>group</em><br>
Specifies the group of print operators.
The default operator group is the primary group for the user running the server.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>AuthProxyGroup </strong><em>group</em><br>
Specifies the group of print proxies.
The default proxy group is the primary group for the user running the server.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>AuthService </strong><em>name</em><br>
Specifies the PAM service name.
The default is either "cups" or "other", depending on the platform.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>AuthTestPassword </strong><em>password</em><br>
Specifies a single password that can be used to authenticate against any user account.
Note: This directive is provided for testing only and does not actually provide access to the "authenticated" user account.
The default is to not have a testing password enabled.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>AuthType </strong><em>{None|Basic}</em><br>
Specifies the type of authentication to require.
"None" specifies that no authentication is required.
"Basic" specifies that HTTP Basic authentication (username + password) is required.
The default is "None" when authentication is turned off and "Basic" when authentication is turned on.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>BinDir </strong><em>directory</em><br>
Specifies the location of the
<strong>ipptransform</strong>(1)

and
<strong>ipptransform3d</strong>(1)

programs.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>DataDir </strong><em>directory</em><br>
Specifies the location of server data files.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>DefaultPrinter </strong><em>name</em><br>
Specifies the default print service name.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>DocumentPrivacyAttributes </strong><em>{all|default|none|list of attributes and groups}</em><br>
Specifies which document object attribute values are considered private.
"All" will hide all attributes except "document-job-id", "document-number", "document-printer-uri", and "document-uuid".
"Default" hides all description and template attributes but not status attributes.
"None" does not hide any attributes.
A list of (space-delimited) attributes and groups names specific attributes, all description ("document-description"), and/or all template ("document-template") attributes.
The default value is "default".
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>DocumentPrivacyScope </strong><em>{all|default|owner|none}</em><br>
Specifies which users can query private document attribute values.
"All" means that all users can query private document attribute values.
"Default" means that the document owner and any administrator or operator can query private document attribute values.
"Owner" means that only the document owner can query private document attribute values.
"None" means that no user can query private document attribute values.
The default is "default".
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>Encryption </strong><em>{Always|IfRequested|Never|Required}</em><br>
Specifies when to use TLS encryption for client connections.
"Always" means that all connections are encrypted when established (HTTPS).
"IfRequested" means that connections are encrypted when an upgrade is requested by the client.
"Never" means that encryption is not allowed or supported.
"Required" means that all connections are encrypted, either when established (HTTPS) or immediately thereafter using HTTP Upgrade.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>FileDirectory </strong><em>directory [ ... directory ]</em><br>
Specifies one or more directories that are allowed for local printing by reference.
Directories with spaces must be put inside single ('some directory') or double ("some directory") quotes.
The default is to not allow file: URIs for printing.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>GeoLocation </strong><em>geo:latitude,longitude[,altitude]</em><br>
Specifies the physical location of the server using a "geo" URI (RFC 5870).
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>Info </strong><em>description</em><br>
Specifies a description of the server.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>JobPrivacyAttributes </strong><em>{all|default|none|list of attributes and groups}</em><br>
Specifies which job object attribute values are considered private.
"All" will hide all attributes except "job-id", "job-printer-uri", and "job-uuid".
"Default" hides all description and template attributes but not status attributes.
"None" does not hide any attributes.
A list of (space-delimited) attributes and groups names specific attributes, all description ("job-description"), and/or all template ("job-template") attributes.
The default value is "default".
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>JobPrivacyScope </strong><em>{all|default|owner|none}</em><br>
Specifies which users can query private job attribute values.
"All" means that all users can query private job attribute values.
"Default" means that the job owner and any administrator or operator can query private job attribute values.
"Owner" means that only the job owner can query private job attribute values.
"None" means that no user can query private job attribute values.
The default is "default".
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>KeepFiles </strong><em>{No|Yes}</em><br>
Specifies whether job data files are retained after processing.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>Listen </strong><em>address[:port] [ ... address[:port] ]</em><br>
Listens for client connections on the specified addresses and ports.
If the address is "*" the server will listen for connections on all network interfaces.
If the port is omitted, a port between 8000 and 8999 will be used.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>Location </strong><em>location of server</em><br>
Specifies a human-readable location of the server.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>LogFile </strong><em>path</em><br>
Specifies a log file to use.
The path "stderr" causes all log messages to be directed to the standard error file descriptor.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>LogLevel </strong><em>{Debug|Info|Error}</em><br>
Specifies the verbosity of logged messages.
"Debug" is the most verbose level, logging all messages.
"Info" provides basic progress and status messages.
"Error" provides only error messages.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>MakeAndModel </strong><em>make model</em><br>
Specifies the make and model of the server.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>MaxCompletedJobs </strong><em>number</em><br>
Specifies the maximum number of completed jobs that are retained for job history.
The value 0 specifies there is no limit.
Note: <strong>ippserver</strong> currently removes completed jobs from the job history after 60 seconds.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>MaxJobs </strong><em>number</em><br>
Specifies the maximum number of pending and active jobs that can be queued at any given time.
The value 0 specifies there is no limit.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>Name </strong><em>name of server</em><br>
Specifies the human-readable name of the server.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>OwnerEmail </strong><em>name@example.com</em><br>
Specifies the email address of the owner or administrator of the server.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>OwnerLocation </strong><em>location</em><br>
Specifies the human-readable location of the owner or administrator of the server.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>OwnerName </strong><em>name</em><br>
Specifies the name of the owner or administrator of the server.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>OwnerPhone </strong><em>phone-number</em><br>
Specifies the telephone number of the owner or administrator of the server.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>SpoolDir </strong><em>path</em><br>
Specifies the location of print job spool files.
The default is a per-process temporary directory.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>StateDir </strong><em>path</em><br>
Specifies the location of persistent printer state files.
The default is the empty string so no state is persisted.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>SubscriptionPrivacyAttributes </strong><em>{all|default|none|list of attributes and groups}</em><br>
Specifies which subscription object attribute values are considered private.
"All" will hide all attributes except "notify-job-id", "notify-printer-uri", "notify-subscription-id", and "notify-subscription-uuid".
"Default" hides all description and template attributes but not status attributes.
"None" does not hide any attributes.
A list of (space-delimited) attributes and groups names specific attributes, all description ("subscription-description"), and/or all template ("subscription-template") attributes.
The default value is "default".
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>SubscriptionPrivacyScope </strong><em>{all|default|owner|none}</em><br>
Specifies which users can query private subscription attribute values.
"All" means that all users can query private subscription attribute values.
"Default" means that the subscription owner and any administrator or operator can query private subscription attribute values.
"Owner" means that only the subscription owner can query private subscription attribute values.
"None" means that no user can query private subscription attribute values.
The default is "default".
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>UUID </strong><em>uuid</em><br>
Specifies the UUID of the server.
</p>
    <h3 id="ippserver-8.configuration-directories.print-service-configuration-files">Print Service Configuration Files</h3>
<p>Each 2D print service is configured by a <em>print/name.conf</em> configuration file, where "name" is the name of the service in the printer URI, e.g., "ipps://hostname/ipp/print/name".
Each 3D print service is configured by a <em>print3d/name.conf</em> configuration file, where "name" is the name of the service in the printer URI, e.g., "ipps://hostname/ipp/print3d/name".
Each line consists of a directive followed by its value(s).
Comments start with the # character and continue to the end of the line.
The following directives are supported:
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>Attr </strong><em>value-tag name value(s)</em><br>
Specifies a Printer Description attribute.
The format is further defined in
<strong>ipptoolfile</strong>(7).

</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>AuthPrintGroup </strong><em>group</em><br>
Specifies the group of users that is allowed to do printing operations.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>AuthProxyGroup </strong><em>group</em><br>
Specifies the group of users that is allowed to do proxy operations.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>Command </strong><em>command</em><br>
Specifies the command to run when processing jobs.
The
<strong>ipptransform</strong>(1)

command can be used for many printers.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>DeviceURI </strong><em>uri</em><br>
Specifies the printer's device URI.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>Make </strong><em>manufacturer</em><br>
Specifies the manufacturer name for the printer.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>Model </strong><em>model</em><br>
Specifies the model for the printer.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>OutputFormat </strong><em>type/subtype</em><br>
Specifies the output MIME media type for the printer.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>Profile </strong><em>name filename.icc { ... }</em><br>
Specifies a named ICC profile and any member Job Template attributes that select the profile.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>Strings </strong><em>language filename.strings</em><br>
Specifies a localization ("strings") file for the specified language.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>WebForms Yes</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>WebForms No</strong><br>
Enables or disables GET-based web forms which are used to manipulate the material, media, and supply levels.
The default is "Yes" to enable GET-based forms.
</p>
    <h3 id="ippserver-8.configuration-directories.variables-in-attribute-values">Variables In Attribute Values</h3>
<p><strong>ippserver</strong>
defines the following additional
<strong>ipptoolfile</strong>(5)

variables that can be used in attribute values:
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;">SERVERNAME<br>
Specifies the host name of the server, for example "server.local".
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;">SERVERPORT<br>
Specifies the port number of the server, for example "8501".
</p>
    <h3 id="ippserver-8.configuration-directories.print-service-icon-files">Print Service Icon Files</h3>
<p>The icon for each 2D print service is stored in the <em>print/name.png</em>  file. Similarly, the icon for each 3D print service is stored in the <em>print3d/name.png</em> file.
</p>
    <h2 id="ippserver-8.see-also">See Also</h2>
<p><strong>ippdoclint</strong>(7),

<strong>ipptransform</strong>(7),

<strong>ipptransform3d</strong>(7),

<strong>ipptoolfile</strong>(5),

ISTO PWG Internet Printing Protocol Workgroup (<a href="http://www.pwg.org/ipp">http://www.pwg.org/ipp</a>)
</p>
    <h2 id="ippserver-8.copyright">Copyright</h2>
<p>Copyright &copy; 2014-2019 by the Printer Working Group.
Copyright &copy; 2007-2019 by Apple Inc.
  </body>
</html>
